
allprojects {
	apply plugin: 'java'
	sourceCompatibility = 1.7
	targetCompatibility =  1.7
	
	project.version = "git describe --always --dirty".execute().text.trim()
	println("version : '${project.version}'")
	version="0.1"
	group = "wf.frk.dds"
}



subprojects {
	apply plugin: 'maven'		
	apply plugin: 'eclipse'
	
	[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
		
	repositories {
	    mavenLocal()
	  	mavenCentral()	
		maven {  
			url "https://jitpack.io" 
		}
	    maven {
	         url "http://dl.bintray.com/jmonkeyengine/com.jme3" 
	    }
	}	
		
	
	
	task sourcesJar(type: Jar) {
		from sourceSets.main.allSource
		classifier = 'sources'
	}

	task writeNewPom << {
		pom {
			project {
				inceptionYear '2017'
				description project.description
				licenses {
					license {
						name ""
						url ""
						distribution "repo"
					}
				}
				developers {
					developer {
						id "riccardobl"
						name "Riccardo Balbo"
					}
				}
			}
		}.writeTo("$buildDir/newpom.xml")
}
	
}